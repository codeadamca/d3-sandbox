<!doctype html>
<html>
<head>

<title>D3.js Samples - Circles</title>
    
<style>

html,body {
    margin: 0;
}
    
</style>
    
</head>
<body>
    
<script src="https://d3js.org/d3.v5.min.js"></script>
    
<script>
    
var width = window.innerWidth,
    height = window.innerHeight;

var svg = d3.select("body")
    .append("svg")
    .attr("width", width)
    .attr("height", height);

var i = 0;    
    
var circles = svg.selectAll("circle")
    .data(d3.range(1000).map(function() {
        return {
            x: Math.random() * width,
            y: Math.random() * height,
            vx: Math.random() - 0.5,
            vy: Math.random() - 0.5,
        }
    }))
    .enter()
    .append("circle")
    .attr("r",5)
    .style("fill",function() {
        return "hsl("+(Math.random() * 360)+",100%,50%)"
    });
 
d3.timer(function() {
   
    circles
        .attr( "cx", function(d) { d.x += d.vx; if( d.x > width || d.x < 0 ) d.vx *= -1; return d.x; })
        .attr( "cy", function(d) { d.y += d.vy; if( d.y > height || d.y < 0 ) d.vy *= -1; return d.y; });
    
    
});

    
</script>
    
</body>
</html>